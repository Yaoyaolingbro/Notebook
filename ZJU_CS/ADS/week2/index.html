
<!DOCTYPE html>

<html class="no-js" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<meta content="yaoyaoling" name="author"/>
<link href="https://yaoyaolingbro.github.io/notebook/ZJU_CS/ADS/week2/" rel="canonical"/>
<link href="../week1/" rel="prev"/>
<link href="../week3/" rel="next"/>
<link href="../../../assets/images/favicon.png" rel="icon"/>
<meta content="mkdocs-1.5.3, mkdocs-material-9.4.12" name="generator"/>
<title>Lecture 2 | Red Black Tree &amp; B+ Tree - Yaoyaoling's notebook</title>
<link href="../../../assets/stylesheets/main.fad675c6.min.css" rel="stylesheet"/>
<link href="../../../assets/stylesheets/palette.356b1318.min.css" rel="stylesheet"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&amp;display=fallback" rel="stylesheet"/>
<style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
<link href="../../../css/timeline.css" rel="stylesheet"/>
<link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.7/katex.min.css" rel="stylesheet"/>
<link href="../../../css/custom.css" rel="stylesheet"/>
<link href="../../../css/card.css" rel="stylesheet"/>
<link href="../../../css/tasklist.css" rel="stylesheet"/>
<link href="../../../css/flink.css" rel="stylesheet"/>
<link href="../../../css/more_changelog.css" rel="stylesheet"/>
<script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
<script id="__analytics">function __md_analytics(){function n(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],n("js",new Date),n("config","G-KJB4RXSKZG"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){this.value&&n("event","search",{search_term:this.value})}),document$.subscribe(function(){var a=document.forms.feedback;if(void 0!==a)for(var e of a.querySelectorAll("[type=submit]"))e.addEventListener("click",function(e){e.preventDefault();var t=document.location.pathname,e=this.getAttribute("data-md-value");n("event","feedback",{page:t,data:e}),a.firstElementChild.disabled=!0;e=a.querySelector(".md-feedback__note [data-md-value='"+e+"']");e&&(e.hidden=!1)}),a.hidden=!1}),location$.subscribe(function(e){n("config","G-KJB4RXSKZG",{page_path:e.pathname})})});var e=document.createElement("script");e.async=!0,e.src="https://www.googletagmanager.com/gtag/js?id=G-KJB4RXSKZG",document.getElementById("__analytics").insertAdjacentElement("afterEnd",e)}</script>
<script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
</head>
<body data-md-color-accent="deep-purple" data-md-color-primary="indigo" data-md-color-scheme="default" dir="ltr">
<script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" for="__drawer"></label>
<div data-md-component="skip">
<a class="md-skip" href="#lecture_2_red_black_tree_b_tree">
          Skip to content
        </a>
</div>
<div data-md-component="announce">
</div>
<header class="md-header" data-md-component="header">
<nav aria-label="Header" class="md-header__inner md-grid">
<a aria-label="Yaoyaoling's notebook" class="md-header__button md-logo" data-md-component="logo" href="../../.." title="Yaoyaoling's notebook">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"></path></svg>
</a>
<label class="md-header__button md-icon" for="__drawer">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"></path></svg>
</label>
<div class="md-header__title" data-md-component="header-title">
<div class="md-header__ellipsis">
<div class="md-header__topic">
<span class="md-ellipsis">
            Yaoyaoling's notebook
          </span>
</div>
<div class="md-header__topic" data-md-component="header-topic">
<span class="md-ellipsis">
            
              Lecture 2 | Red Black Tree &amp; B+ Tree
            
          </span>
</div>
</div>
</div>
<form class="md-header__option" data-md-component="palette">
<input aria-label="Switch to dark mode" class="md-option" data-md-color-accent="deep-purple" data-md-color-media="(prefers-color-scheme: light)" data-md-color-primary="indigo" data-md-color-scheme="default" id="__palette_1" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_2" hidden="" title="Switch to dark mode">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5c-.84 0-1.65.15-2.39.42L12 2M3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29L3.34 7m.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14L3.36 17M20.65 7l-1.77 3.79a7.023 7.023 0 0 0-2.38-4.15l4.15.36m-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29L20.64 17M12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44L12 22Z"></path></svg>
</label>
<input aria-label="Switch to light mode" class="md-option" data-md-color-accent="deep-purple" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-primary="cyan" data-md-color-scheme="slate" id="__palette_2" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_1" hidden="" title="Switch to light mode">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3 3.19.09m3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95 2.06.05m-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31Z"></path></svg>
</label>
</form>
<label class="md-header__button md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"></path></svg>
</label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input aria-label="Search" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="search-query" name="query" placeholder="Search" required="" spellcheck="false" type="text"/>
<label class="md-search__icon md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"></path></svg>
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"></path></svg>
</label>
<nav aria-label="Search" class="md-search__options">
<a aria-label="Share" class="md-search__icon md-icon" data-clipboard="" data-clipboard-text="" data-md-component="search-share" href="javascript:void(0)" tabindex="-1" title="Share">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"></path></svg>
</a>
<button aria-label="Clear" class="md-search__icon md-icon" tabindex="-1" title="Clear" type="reset">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"></path></svg>
</button>
</nav>
<div class="md-search__suggest" data-md-component="search-suggest"></div>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix="">
<div class="md-search-result" data-md-component="search-result">
<div class="md-search-result__meta">
            Initializing search
          </div>
<ol class="md-search-result__list" role="presentation"></ol>
</div>
</div>
</div>
</div>
</div>
<div class="md-header__source">
<a class="md-source" data-md-component="source" href="https://github.com/Yaoyaolingbro/Notebook" title="Go to repository">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 496 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg>
</div>
<div class="md-source__repository">
    Yaoyaolingbro/Notebook
  </div>
</a>
</div>
</nav>
</header>
<div class="md-container" data-md-component="container">
<nav aria-label="Tabs" class="md-tabs" data-md-component="tabs">
<div class="md-grid">
<ul class="md-tabs__list">
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../..">
        
  
    
  
  Home

      </a>
</li>
<li class="md-tabs__item md-tabs__item--active">
<a class="md-tabs__link" href="../../">
          
  
    
  
  ZJU_CS

        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../../Missing%20semester/">
          
  
    
  
  Missing semester

        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../../Online%20CS%20Courses/Fundation%20of%20computer%20science/">
          
  
    
  
  Online CS Courses

        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../../AI/">
          
  
    
  
  AI

        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../../Language/Advanced%20C%20Language/">
          
  
    
  
  Language

        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../../English/">
          
  
    
  
  English

        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../../Scientific%20research/">
          
  
    
  
  Scientific research

        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../../Paper%20Reading/">
          
  
    
  
  Paper Reading

        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../../spark%20in%20life/">
          
  
    
  
  Spark in life

        </a>
</li>
</ul>
</div>
</nav>
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Navigation" class="md-nav md-nav--primary md-nav--lifted" data-md-level="0">
<label class="md-nav__title" for="__drawer">
<a aria-label="Yaoyaoling's notebook" class="md-nav__button md-logo" data-md-component="logo" href="../../.." title="Yaoyaoling's notebook">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"></path></svg>
</a>
    Yaoyaoling's notebook
  </label>
<div class="md-nav__source">
<a class="md-source" data-md-component="source" href="https://github.com/Yaoyaolingbro/Notebook" title="Go to repository">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 496 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg>
</div>
<div class="md-source__repository">
    Yaoyaolingbro/Notebook
  </div>
</a>
</div>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../..">
<span class="md-ellipsis">
    Home
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" id="__nav_2" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../">
<span class="md-ellipsis">
    ZJU_CS
  </span>
</a>
<label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="true" aria-labelledby="__nav_2_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_2">
<span class="md-nav__icon md-icon"></span>
            ZJU_CS
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
<a class="md-nav__link" href="../../HPC/">
<span class="md-ellipsis">
    HPC
  </span>
<span class="md-nav__icon md-icon"></span>
</a>
</li>
<li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
<a class="md-nav__link" href="../../FDS/">
<span class="md-ellipsis">
    FDS
  </span>
<span class="md-nav__icon md-icon"></span>
</a>
</li>
<li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
<a class="md-nav__link" href="../../DigitalDesign/">
<span class="md-ellipsis">
    Digital desin
  </span>
<span class="md-nav__icon md-icon"></span>
</a>
</li>
<li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
<a class="md-nav__link" href="../../Discrete%20math/">
<span class="md-ellipsis">
    Discrete math
  </span>
<span class="md-nav__icon md-icon"></span>
</a>
</li>
<li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
<a class="md-nav__link" href="../../oop/">
<span class="md-ellipsis">
    OOP
  </span>
<span class="md-nav__icon md-icon"></span>
</a>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" id="__nav_2_7" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../">
<span class="md-ellipsis">
    ADS
  </span>
</a>
<label class="md-nav__link" for="__nav_2_7" id="__nav_2_7_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="true" aria-labelledby="__nav_2_7_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_2_7">
<span class="md-nav__icon md-icon"></span>
            ADS
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../homework/">
<span class="md-ellipsis">
    ADS Homework Review
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../exam/">
<span class="md-ellipsis">
    历年卷复习
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../week1/">
<span class="md-ellipsis">
    Lecture 1 | AVL Trees &amp; Splay Trees
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--active">
<input class="md-nav__toggle md-toggle" id="__toc" type="checkbox"/>
<label class="md-nav__link md-nav__link--active" for="__toc">
<span class="md-ellipsis">
    Lecture 2 | Red Black Tree &amp; B+ Tree
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<a class="md-nav__link md-nav__link--active" href="./">
<span class="md-ellipsis">
    Lecture 2 | Red Black Tree &amp; B+ Tree
  </span>
</a>
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#_1">
<span class="md-ellipsis">
      红黑树
    </span>
</a>
<nav aria-label="红黑树" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#_2">
<span class="md-ellipsis">
      概念
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_3">
<span class="md-ellipsis">
      操作
    </span>
</a>
<nav aria-label="操作" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#_4">
<span class="md-ellipsis">
      插入
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_5">
<span class="md-ellipsis">
      删除
    </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#b_tree">
<span class="md-ellipsis">
      B+ Tree
    </span>
</a>
<nav aria-label="B+ Tree" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#_6">
<span class="md-ellipsis">
      概念
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_7">
<span class="md-ellipsis">
      操作
    </span>
</a>
<nav aria-label="操作" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#_8">
<span class="md-ellipsis">
      查找
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_9">
<span class="md-ellipsis">
      插入
    </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../week3/">
<span class="md-ellipsis">
    Lecture 3 | Inverted File Index
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../week4/">
<span class="md-ellipsis">
    Lecture 4 | Leftist Heap &amp; Skew Heap
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../week5/">
<span class="md-ellipsis">
    Lecture 5 | Binomial Queue
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../week6/">
<span class="md-ellipsis">
    Lecture 6 | Backtracing
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../week7/">
<span class="md-ellipsis">
    Lecture 7 | Divide &amp; Conquer
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../week8/">
<span class="md-ellipsis">
    Lecture 8 | Dynamic Programming
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../week9/">
<span class="md-ellipsis">
    Lecture 9 | Greedy Algorithms
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../week10/">
<span class="md-ellipsis">
    Lecture 10 | NP Completeness
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../week11/">
<span class="md-ellipsis">
    Lecture 11 | Approximation
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../week12/">
<span class="md-ellipsis">
    Lecture 12 | Local Search
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../week13/">
<span class="md-ellipsis">
    Lecture 13 | Randomized Algorithms
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../week14/">
<span class="md-ellipsis">
    Lecture 14 | 并行
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../week15/">
<span class="md-ellipsis">
    Lecture 15 | External Sorting
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
<a class="md-nav__link" href="../../Database/">
<span class="md-ellipsis">
    Database
  </span>
<span class="md-nav__icon md-icon"></span>
</a>
</li>
<li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
<a class="md-nav__link" href="../../computer_organization/">
<span class="md-ellipsis">
    Computer Organization
  </span>
<span class="md-nav__icon md-icon"></span>
</a>
</li>
<li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
<a class="md-nav__link" href="../../3DCV/">
<span class="md-ellipsis">
    Introduction to 3D CV
  </span>
<span class="md-nav__icon md-icon"></span>
</a>
</li>
<li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
<a class="md-nav__link" href="../../CA/">
<span class="md-ellipsis">
    Computer Arichitecture
  </span>
<span class="md-nav__icon md-icon"></span>
</a>
</li>
<li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
<a class="md-nav__link" href="../../CN/">
<span class="md-ellipsis">
    Computer Network
  </span>
<span class="md-nav__icon md-icon"></span>
</a>
</li>
<li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
<a class="md-nav__link" href="../../OS/">
<span class="md-ellipsis">
    Operating System
  </span>
<span class="md-nav__icon md-icon"></span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--section md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../../Missing%20semester/">
<span class="md-ellipsis">
    Missing semester
  </span>
</a>
<label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_3_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_3">
<span class="md-nav__icon md-icon"></span>
            Missing semester
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../Missing%20semester/toolbox/">
<span class="md-ellipsis">
    工具箱（一些好用的网站or分享）
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../Missing%20semester/copilot/">
<span class="md-ellipsis">
    Github Copilot
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
<a class="md-nav__link" href="../../../Missing%20semester/git/">
<span class="md-ellipsis">
    Git
  </span>
<span class="md-nav__icon md-icon"></span>
</a>
</li>
<li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
<a class="md-nav__link" href="../../../Missing%20semester/Markdown/">
<span class="md-ellipsis">
    Markdown
  </span>
<span class="md-nav__icon md-icon"></span>
</a>
</li>
<li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
<a class="md-nav__link" href="../../../Missing%20semester/Linux/">
<span class="md-ellipsis">
    Linux
  </span>
<span class="md-nav__icon md-icon"></span>
</a>
</li>
<li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
<a class="md-nav__link" href="../../../Missing%20semester/Docker/">
<span class="md-ellipsis">
    Docker
  </span>
<span class="md-nav__icon md-icon"></span>
</a>
</li>
<li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
<a class="md-nav__link" href="../../../Missing%20semester/Ladder/">
<span class="md-ellipsis">
    Ladder
  </span>
<span class="md-nav__icon md-icon"></span>
</a>
</li>
<li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
<a class="md-nav__link" href="../../../Missing%20semester/Latex/">
<span class="md-ellipsis">
    Latex
  </span>
<span class="md-nav__icon md-icon"></span>
</a>
</li>
<li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
<a class="md-nav__link" href="../../../Missing%20semester/Mkdocs%20material/">
<span class="md-ellipsis">
    Mkdocs material
  </span>
<span class="md-nav__icon md-icon"></span>
</a>
</li>
<li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
<a class="md-nav__link" href="../../../Missing%20semester/Zotero/">
<span class="md-ellipsis">
    Zotero
  </span>
<span class="md-nav__icon md-icon"></span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--section md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="">
<span class="md-ellipsis">
    Online CS Courses
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_4_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_4">
<span class="md-nav__icon md-icon"></span>
            Online CS Courses
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
<a class="md-nav__link" href="../../../Online%20CS%20Courses/Fundation%20of%20computer%20science/">
<span class="md-ellipsis">
    计算机科学导论
  </span>
<span class="md-nav__icon md-icon"></span>
</a>
</li>
<li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
<a class="md-nav__link" href="../../../Online%20CS%20Courses/CSAPP/">
<span class="md-ellipsis">
    CSAPP
  </span>
<span class="md-nav__icon md-icon"></span>
</a>
</li>
<li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
<a class="md-nav__link" href="../../../Online%20CS%20Courses/CS106L/">
<span class="md-ellipsis">
    CS106L
  </span>
<span class="md-nav__icon md-icon"></span>
</a>
</li>
<li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
<a class="md-nav__link" href="../../../Online%20CS%20Courses/CS50%20AI/">
<span class="md-ellipsis">
    CS50 AI
  </span>
<span class="md-nav__icon md-icon"></span>
</a>
</li>
<li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
<a class="md-nav__link" href="../../../Online%20CS%20Courses/CS61B/">
<span class="md-ellipsis">
    CS61B
  </span>
<span class="md-nav__icon md-icon"></span>
</a>
</li>
<li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
<a class="md-nav__link" href="../../../Online%20CS%20Courses/CS106X/">
<span class="md-ellipsis">
    CS106X
  </span>
<span class="md-nav__icon md-icon"></span>
</a>
</li>
<li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
<a class="md-nav__link" href="../../../Online%20CS%20Courses/CS285/">
<span class="md-ellipsis">
    CS285
  </span>
<span class="md-nav__icon md-icon"></span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--section md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_5" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../../AI/">
<span class="md-ellipsis">
    AI
  </span>
</a>
<label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_5_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_5">
<span class="md-nav__icon md-icon"></span>
            AI
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../AI/DL/">
<span class="md-ellipsis">
    深度学习
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../AI/LLM/">
<span class="md-ellipsis">
    LLM
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
<a class="md-nav__link" href="../../../AI/machine%20learning/">
<span class="md-ellipsis">
    Machine Learning
  </span>
<span class="md-nav__icon md-icon"></span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--section md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_6" type="checkbox"/>
<label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="">
<span class="md-ellipsis">
    Language
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_6_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_6">
<span class="md-nav__icon md-icon"></span>
            Language
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
<a class="md-nav__link" href="../../../Language/Advanced%20C%20Language/">
<span class="md-ellipsis">
    C
  </span>
<span class="md-nav__icon md-icon"></span>
</a>
</li>
<li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
<a class="md-nav__link" href="../../../Language/C%2B%2B/">
<span class="md-ellipsis">
    C++
  </span>
<span class="md-nav__icon md-icon"></span>
</a>
</li>
<li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
<a class="md-nav__link" href="../../../Language/CUDA/">
<span class="md-ellipsis">
    CUDA
  </span>
<span class="md-nav__icon md-icon"></span>
</a>
</li>
<li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
<a class="md-nav__link" href="../../../Language/Python/">
<span class="md-ellipsis">
    Python
  </span>
<span class="md-nav__icon md-icon"></span>
</a>
</li>
<li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
<a class="md-nav__link" href="../../../Language/Verilog/">
<span class="md-ellipsis">
    Verilog
  </span>
<span class="md-nav__icon md-icon"></span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--section md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_7" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../../English/">
<span class="md-ellipsis">
    English
  </span>
</a>
<label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_7_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_7">
<span class="md-nav__icon md-icon"></span>
            English
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../English/CET6/">
<span class="md-ellipsis">
    一些些单词
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
<a class="md-nav__link" href="../../../English/research/">
<span class="md-ellipsis">
    research
  </span>
<span class="md-nav__icon md-icon"></span>
</a>
</li>
<li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
<a class="md-nav__link" href="../../../English/IELTS%20words/">
<span class="md-ellipsis">
    IELTS words
  </span>
<span class="md-nav__icon md-icon"></span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--section md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_8" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../../Scientific%20research/">
<span class="md-ellipsis">
    Scientific research
  </span>
</a>
<label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_8_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_8">
<span class="md-nav__icon md-icon"></span>
            Scientific research
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../Scientific%20research/writing/">
<span class="md-ellipsis">
    论文写作词汇表
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../Scientific%20research/ode/">
<span class="md-ellipsis">
    Ode
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../Scientific%20research/vlm/">
<span class="md-ellipsis">
    一些常见的VLM的问题
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
<a class="md-nav__link" href="../../../Scientific%20research/3d%20vision/">
<span class="md-ellipsis">
    3d vision
  </span>
<span class="md-nav__icon md-icon"></span>
</a>
</li>
<li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
<a class="md-nav__link" href="../../../Scientific%20research/4science/">
<span class="md-ellipsis">
    4science
  </span>
<span class="md-nav__icon md-icon"></span>
</a>
</li>
<li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
<a class="md-nav__link" href="../../../Scientific%20research/mathematic%20model/">
<span class="md-ellipsis">
    mathematic model
  </span>
<span class="md-nav__icon md-icon"></span>
</a>
</li>
<li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
<a class="md-nav__link" href="../../../Scientific%20research/basic%20tutor/voice%20synthesis/">
<span class="md-ellipsis">
    Basic tutor
  </span>
<span class="md-nav__icon md-icon"></span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--section md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_9" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../../Paper%20Reading/">
<span class="md-ellipsis">
    Paper Reading
  </span>
</a>
<label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_9_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_9">
<span class="md-nav__icon md-icon"></span>
            Paper Reading
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
<a class="md-nav__link" href="../../../Paper%20Reading/basic%20model/">
<span class="md-ellipsis">
    Basic Model
  </span>
<span class="md-nav__icon md-icon"></span>
</a>
</li>
<li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
<a class="md-nav__link" href="../../../Paper%20Reading/protein/">
<span class="md-ellipsis">
    Protein
  </span>
<span class="md-nav__icon md-icon"></span>
</a>
</li>
<li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
<a class="md-nav__link" href="../../../Paper%20Reading/LLM%20Inference/">
<span class="md-ellipsis">
    LLM Inference
  </span>
<span class="md-nav__icon md-icon"></span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--section md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_10" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../../spark%20in%20life/">
<span class="md-ellipsis">
    Spark in life
  </span>
</a>
<label class="md-nav__link" for="__nav_10" id="__nav_10_label" tabindex="">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_10_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_10">
<span class="md-nav__icon md-icon"></span>
            Spark in life
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
<a class="md-nav__link" href="../../../spark%20in%20life/college%20life/competition/">
<span class="md-ellipsis">
    College life
  </span>
<span class="md-nav__icon md-icon"></span>
</a>
</li>
<li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
<a class="md-nav__link" href="../../../spark%20in%20life/skills/cook/">
<span class="md-ellipsis">
    Skill
  </span>
<span class="md-nav__icon md-icon"></span>
</a>
</li>
<li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
<a class="md-nav__link" href="../../../spark%20in%20life/travel/GuiZhou/">
<span class="md-ellipsis">
    Travel
  </span>
<span class="md-nav__icon md-icon"></span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#_1">
<span class="md-ellipsis">
      红黑树
    </span>
</a>
<nav aria-label="红黑树" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#_2">
<span class="md-ellipsis">
      概念
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_3">
<span class="md-ellipsis">
      操作
    </span>
</a>
<nav aria-label="操作" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#_4">
<span class="md-ellipsis">
      插入
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_5">
<span class="md-ellipsis">
      删除
    </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#b_tree">
<span class="md-ellipsis">
      B+ Tree
    </span>
</a>
<nav aria-label="B+ Tree" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#_6">
<span class="md-ellipsis">
      概念
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_7">
<span class="md-ellipsis">
      操作
    </span>
</a>
<nav aria-label="操作" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#_8">
<span class="md-ellipsis">
      查找
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_9">
<span class="md-ellipsis">
      插入
    </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content" data-md-component="content">
<article class="md-content__inner md-typeset">
<h1 id="lecture_2_red_black_tree_b_tree">Lecture 2 | Red Black Tree &amp; B+ Tree<a class="headerlink" href="#lecture_2_red_black_tree_b_tree" title="Permanent link">#</a></h1>
<div class="admonition info">
<p class="admonition-title">说明</p>
<p>而为了提高笔记整理效率，可能会考虑用更多的引用和更简单的语言。如果您觉得有哪里说的不够清楚，请直接在评论区狠狠 blame 我！</p>
</div>
<hr/>
<h2 id="_1">红黑树<a class="headerlink" href="#_1" title="Permanent link">#</a></h2>
<div class="admonition quote">
<p class="admonition-title">link</p>
<p>OI Wiki: <a href="https://oi-wiki.org/ds/rbtree/">https://oi-wiki.org/ds/rbtree/</a></p>
<p>Wikipedia: <a href="https://en.wikipedia.org/wiki/Red%E2%80%93black_tree">https://en.wikipedia.org/wiki/Red%E2%80%93black_tree</a></p>
<p>Linux源码：<a href="https://elixir.bootlin.com/linux/latest/source/lib/rbtree.c">https://elixir.bootlin.com/linux/latest/source/lib/rbtree.c</a></p>
</div>
<hr/>
<h3 id="_2">概念<a class="headerlink" href="#_2" title="Permanent link">#</a></h3>
<p>顾名思义，<strong>红黑树(Red Black Tree)</strong>就是一种节点分类为红黑两色的，比较平衡的二叉搜索树。只不过不同于 AVL 树，红黑树的“平衡”性质是通过<strong>黑高(black height)</strong>来定义的。接下来依次给出红黑树的定义和黑高的定义。</p>
<div class="admonition definition">
<p class="admonition-title">Red Black Tree</p>
<p><center>
<img alt="" src="../img/6.png"/>
</center></p>
<p>红黑树是满足如下性质的一种二叉搜索树：</p>
<div class="admonition property">
<p class="admonition-title">Properties of RBTree</p>
<div class="admonition extra">
<p class="admonition-title">\@cy's PPT</p>
<ol>
<li>Every node is either red or black.</li>
<li>The root is black.</li>
<li>Every leaf (<code>NIL</code>) is black.</li>
<li>if a node is red, then both its children are black.</li>
<li>For each node, all simple paths from the node to descendant leaves contain the same number of black nodes.</li>
</ol>
</div>
<blockquote>
<p>ch 老师说，希望我们能把这五条性质熟练记住，<s>怎么可能（逃）</s>。</p>
</blockquote>
<div class="admonition warning">
<p class="admonition-title">说明</p>
<p>由于这里的“叶子结点”被重新定义了，为了描述方便，我现在称所有两个子结点都是 <code>NIL</code> 的结点为<strong>末端结点</strong>（也就是通俗意义上的叶子结点）。而这个定义<strong>只是我自己说说的</strong>！</p>
</div>
<details class="extra">
<summary>\@Wiki</summary>
<ol start="6">
<li>Every node is either red or black.</li>
<li>All <code>NIL</code> nodes (figure above) are considered black.</li>
<li>A red node does not have a red child.</li>
<li>Every path from a given node to any of its descendant <code>NIL</code> nodes goes through the same number of black nodes.</li>
</ol>
</details>
<details class="extra">
<summary>\@OI Wiki</summary>
<ol>
<li>每一个节点要么是<strong>红</strong>色，要么是<strong>黑</strong>色；</li>
<li><code>NIL</code> 节点（空叶子节点）为<strong>黑</strong>色；</li>
<li><strong>红</strong>色节点的子节点必须为<strong>黑</strong>色；</li>
<li>从根节点到 <code>NIL</code> 节点的每条路径上的<strong>黑</strong>色节点数量相同；</li>
</ol>
</details>
</div>
</div>
<div class="admonition definition">
<p class="admonition-title">black height, bh</p>
<p>特定节点的黑高，等于该节点到叶结点到简单路径中（<strong>不包括自身</strong>），黑色节点的数量。</p>
</div>
<p>接下来为了加深理解，有一些辨析可以做：</p>
<div class="admonition note">
<div class="tabbed-set tabbed-alternate" data-tabs="1:2"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio"><input id="__tabbed_1_2" name="__tabbed_1" type="radio"><div class="tabbed-labels"><label for="__tabbed_1_1">T1</label><label for="__tabbed_1_2">T2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="tabbed-set tabbed-alternate" data-tabs="2:2"><input checked="checked" id="__tabbed_2_1" name="__tabbed_2" type="radio"><input id="__tabbed_2_2" name="__tabbed_2" type="radio"><div class="tabbed-labels"><label for="__tabbed_2_1">题面</label><label for="__tabbed_2_2">答案</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>下图的红黑树是否合法？</p>
<p><img alt="" src="../img/6.png"/></p>
</div>
<div class="tabbed-block">
<p>不合法。</p>
<p><code>16</code> 号节点的右儿子是一个黑叶子，而这个叶子到根的路径上只有 3 个黑节点，而其他叶子到根都有 4 个黑节点。</p>
<p>所以我们需要<strong>警惕只有一个非叶儿子的红色节点</strong>。</p>
</div>
</div>
</input></input></div>
</div>
<div class="tabbed-block">
<div class="tabbed-set tabbed-alternate" data-tabs="3:2"><input checked="checked" id="__tabbed_3_1" name="__tabbed_3" type="radio"><input id="__tabbed_3_2" name="__tabbed_3" type="radio"><div class="tabbed-labels"><label for="__tabbed_3_1">题面</label><label for="__tabbed_3_2">答案</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>下图的红黑树是否合法？</p>
<p><img alt="" src="../img/7.png"/></p>
</div>
<div class="tabbed-block">
<p>合法。</p>
</div>
</div>
</input></input></div>
</div>
</div>
</input></input></div>
<hr/>
<p>根据 T1 的解析，我们得到这样一个结论：</p>
<p><strong>合法红黑树不存在只有一个非叶子节点的红色节点！</strong></p>
<p>or</p>
<p><strong>合法红黑树的红色节点的两个子节点一定都是叶子或都不是叶子！</strong></p>
</div>
<p>此外，关于红黑树的高，我们有如下性质：</p>
<div class="admonition property">
<p class="admonition-title">property about height of RBTree</p>
<p>一个有 <span class="arithmatex">\(N\)</span> 个内部节点（不包括叶子结点）的红黑树，其高度最大为 <span class="arithmatex">\(2\log_2 (N+1)\)</span>。</p>
<details class="proof">
<summary>the proof of the property</summary>
<blockquote>
<p><a href="https://stackoverflow.com/questions/70944386/maximum-height-of-a-node-in-a-red-black-tree">关于黑高和点数的关系</a>。</p>
</blockquote>
<ol>
<li>首先我们有 <span class="arithmatex">\(N \geq 2^{bh}-1\)</span>，也就是 <span class="arithmatex">\(bh \leq \log_2 (N+1)\)</span>；</li>
<li>然后显然有 <span class="arithmatex">\(2 bh(Tree) &gt;= h(Tree)\)</span></li>
</ol>
</details>
</div>
<hr/>
<h3 id="_3">操作<a class="headerlink" href="#_3" title="Permanent link">#</a></h3>
<div class="admonition warning">
<p class="admonition-title">提醒</p>
<p><strong>我们这里介绍的都是 bottom-up 的思路</strong>，不同于 AVL 树，红黑树是存在 top-down 的操作方法的，而这也是红黑树一个非常强大的优势，存在 top-down 的处理方法意味着我们可以进行更快的并行操作。但是我们不在这里详细展开。</p>
</div>
<p>同 AVL 树的调整操作类似，红黑树的调整操作也是左右对称的，所以我们也仍然只讨论一侧。</p>
<hr/>
<h4 id="_4">插入<a class="headerlink" href="#_4" title="Permanent link">#</a></h4>
<p>我们知道，对<strong>黑高</strong>有贡献的只有黑色节点，因此 <code>NIL</code> 节点被一个<strong>红色</strong>节点置换并不会改变一颗红黑树的黑高，因为红色节点还会有一层 <code>NIL</code> 子节点；然而对于红色节点，却有着红色结点互不相邻的限制。</p>
<p>因此，“插入”操作的主要思路就是，先将整个红黑树当作一个普通的二叉搜索树，将目标数据插入到树的末端（也就是置换一个 <code>NIL</code> 节点），并将它染为红色，再调整使之在保证<strong>黑高不变</strong>的情况下，满足<strong>红色节点不能相邻</strong>的要求。</p>
<p>现在，我们记这个被插入的节点为 <code>x</code>，任意一个节点 <code>node</code> 的家长节点为 <code>node.p</code>，则：</p>
<ol>
<li>如果 <code>x.p</code> 是黑色的，那么我们不需要做任何调整；</li>
<li>如果 <code>x.p</code> 是红色的，那么我们需要进行调整；<ul>
<li>此时因为原来的树符合红黑性质，<code>x.p.p</code> 必定存在（红 <code>x.p</code> 不能是根）且必定是黑色的；</li>
</ul>
</li>
</ol>
<p>根据这些讨论，我们就能列举出来一个红色的点被插入后，在 <code>2.</code> 的情况下所有的<strong>初始情况</strong>，即下面第一张图。</p>
<p><img alt="" loading="lazy" src="../img/8.png"/></p>
<p>由于红黑树的操作中，有一部分需要进行递归转移，而其中中间步骤出现了很多同构的结构，所以为了简化说明，我们对其进行统一，所有情况都被归纳为上面第二张图。</p>
<p>而第二张图中提到的橙色结点，也就是标为“被插入的红色节点”的结点，实际过程中并不一定指的是被「插入」的那个点，也可能是在 case 1 向上递归时，简化的原来那颗子树。换句话来说，这里的“被插入的红色节点及其子树”，实际上可能是指「<strong>导致红黑性质被破坏的红根子树</strong>」。</p>
<p>接下来我们来讨论各种情况要怎么处理。</p>
<div class="admonition warning">
<p class="admonition-title">说明</p>
<p>这里 case 1 ~ case 3 的编号主要是为了和课程 ppt 对标，但是接下来你会发现我是按照 case 3 -&gt; case 1 来介绍操作的，这是因为我觉得这样安排更合理，而非排版混乱。</p>
</div>
<details class="section" open="open">
<summary>Insertion / case 3</summary>
<p>对于 case 3， 我们高兴地发现，这样的一次染色和一次旋转刚好能让这棵子树完成调整！</p>
<p><img alt="" src="../img/11.png"/></p>
</details>
<details class="section" open="open">
<summary>Insertion / case 2</summary>
<p>对于 case 2，我们可以直接进行一个 Rotation 操作将它转化为 case 3。</p>
<p>但是实际上，细心的小朋友已经发现了，从 case 2 -&gt; case 3 -&gt; done 的过程 实际上就是一个 LR Rotation！</p>
<p><img alt="" src="../img/10.png"/></p>
</details>
<details class="section" open="open">
<summary>Insertion / case 1</summary>
<p>对于 case 1，图中的两种情况是等价的。所以我们只展示其中一种。</p>
<p>我们只需要将图中的根节点<strong>染红</strong>，将根的两个子节点<strong>染黑</strong>，类似于将黑节点“下放”。</p>
<p><img alt="" src="../img/9.png"/></p>
<p>通过第一步操作，我们可以保证这整个子树必定<strong>平衡</strong>、<strong>不影响家长节点的黑高</strong>（除了家长是根的情况）且<strong>红点不邻</strong>的。</p>
<p>然而我们并不知道这个根的家长节点是否是红色节点，因此做分类讨论。倘若其根的家长节点是红色节点，那么我们还需要向上递归，继续调整，根据实际情况转化为其他 case；若这子树的根没有家长节点，则直接染黑红根即可；而倘若子树根节点的家长节点是黑节点，那么我们就调整完毕了。</p>
</details>
<p>在这三个过程中，我们观察到，只有 case 1 的转化会导致我们递归向上，而 case 2 向 case 3 的转化并不会导致我们改变关注的子树的范围。</p>
<p>为了更清晰地看出各个方法之间的转化关系，于是我们可以画一个状态机：</p>
<div class="admonition key-point">
<div class="mermaid">graph LR;
A["case 1"]
B["case 2"]
C["case 3"]
D(["finish"])

A ===&gt;|"C"| B ---&gt;|"R"| C
A ===&gt;|"C"| A ---&gt;|"C"| D
A ===&gt;|"C"| C ---&gt;|"C&amp;R"| D
</div>
<p>注意，状态机中的<strong>粗线</strong>表示转换过程中，我们关注的“子树”向上攀升了一级；而<strong>细线</strong>表示我们关注的子树仍然是这一层的那一棵。以及，<code>C</code> 表示染色操作，<code>R</code> 表示旋转操作。</p>
<p>其中，任何一个情况都可以作为一个初始情况。所以可以数出，到达 finish 的路径中，最多出现 2 次 Rotation（case 2 -&gt; case 3 -&gt; finish）。</p>
</div>
<hr/>
<h4 id="_5">删除<a class="headerlink" href="#_5" title="Permanent link">#</a></h4>
<p>关于删除操作，下面这个视频讲的很清晰！只不过 case 1 可能还有些细节需要注意。</p>
<p>👉 <strong><a href="https://www.bilibili.com/video/BV1uZ4y1P7rr/?spm_id_from=333.880.my_history.page.click&amp;vd_source=13807e82155f985591ed6f1b4e3434ed">红黑树快速入门 - 04删除</a></strong></p>
<p>要删除某个节点 x，我们首先要找到它，在 BST 中找到某个 x 的开销为 <span class="arithmatex">\(O(\log N)\)</span>。接下来我们要删除这个任意位置的节点，这势必让红黑树的结构发生变化。此外，红黑性质的维护也是一个让人头疼的问题，因此，我们对这些情况做分类讨论：</p>
<table>
<thead>
<tr>
<th style="text-align: left;">没有非<code>NIL</code>子节点</th>
<th style="text-align: left;">有一个非<code>NIL</code>子节点</th>
<th style="text-align: left;">有两个非<code>NIL</code>子节点</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">直接用<code>NIL</code>替代</td>
<td style="text-align: left;">直接删除，用子节点替代它</td>
<td style="text-align: left;">将值与左子树最大值或右子<br/>树最小值交换，颜色不换，<br/>然后删除目标点</td>
</tr>
</tbody>
</table>
<p>其中，每一项操作都会导致一个点的消失（毕竟是删除），而如果消失的是红色节点，那么将不会影响黑高；而如果消失的是黑色节点，那么将会导致黑高减少一，此时我们需要做进一步操作。</p>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input disabled="" type="checkbox"><span class="task-list-indicator"></span></input></label> TODO: 这里需要配图讲清楚节点的具体变换到底是怎么样的，尤其是节点颜色变化到底是怎么一回事，之后大概需要重写</li>
</ul>
<div class="admonition warning">
<p class="admonition-title">说明</p>
<p>虽然我想尽可能拟合 cy 的 ppt，但是我第一遍实在没看懂，所以 case 的编号我就按照上面那个视频来了。</p>
<p>这是 case 序号的对应关系：</p>
<table>
<thead>
<tr>
<th>my</th>
<th>cy's</th>
<th></th>
<th>my</th>
<th>cy's</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>case 1</strong></td>
<td>case 2</td>
<td></td>
<td><strong>case 2</strong></td>
<td>case 4</td>
<td></td>
</tr>
<tr>
<td><strong>case 3</strong></td>
<td>case 3</td>
<td></td>
<td><strong>case 4</strong></td>
<td>case 1</td>
<td></td>
</tr>
</tbody>
</table>
</div>
<p>我们根据情况，将情况分为四种：</p>
<p><center><img alt="" src="../img/12.png" width="90%"/></center></p>
<p>需要做一下简单说明，类比我们在<strong><a href="#插入" target="_blank">#插入</a></strong>，在删除过程中也存在需要向上递归的情况。与「被插入的红色节点」类似的，我们这里的「需要被删除的目标点」，也应当被看作「导致调整出现的子树」，更进一步的，可以定义成「<strong>由于删除了某个结点，黑高 -1 的子树</strong>」，请记住这个定义，这会让之后的递归操作变得自然。</p>
<div class="admonition question">
<p class="admonition-title">何时删除那个结点？</p>
<p>虽然我们对「需要被删除的目标点」进行了递归的扩展定义，但是在第一层我们就可以直接将它删掉了。而这个点被删除造成的影响，已经由「<strong>由于删除结点，黑高 -1 的子树</strong>」继承了。</p>
<p>在之后的配图中，我们都不会展示 x 是如何被删掉的，而是在结果图中保留 x。如果说 x 就是我们一开始要删除的那个点，那么我们应当删掉 x，直接换成 <code>NIL</code>；如果 x 是在传递过程中，表示「黑高 -1 的子树」的根，那么不用做额外处理。</p>
</div>
<p>类似于我们在「Insertion / case 3」里提到的“下放”黑节点，删除操作的思路基本上是“上放”黑节点，或者说“吸纳”黑节点。这个“吸纳”的行为，指的是一个黑点，原来只为右子树中的所有路径提供了黑高，现在由于它的 sibling 子树中少了一个黑色节点，我们将这个黑色节点转移到它们的家长节点节点，于是这个节点同时为左右子树的所有路径都贡献了黑高。</p>
<p>接下来我们逐个分析变化：</p>
<div class="admonition section">
<p class="admonition-title">Deletion / case 1</p>
<p>虽然大部分教程都把 case 1 当作一个 case，但是我觉得完全可以把它按照 a 节点的红黑，分为两种情况。</p>
<p><img alt="" src="../img/13.png"/></p>
<div class="admonition section">
<p class="admonition-title">Deletion / case 1.1</p>
<p>当 a 为<strong>红</strong>根时，由于 x 贡献了（相对于原红黑树）-1 的黑高，为了保证整个子树贡献的黑高不变，我们考虑把 w 的黑高“上放”到 a 上，也就是从下面“吸纳”上来。</p>
<p><img alt="" src="../img/14.png"/></p>
</div>
<div class="admonition section">
<p class="admonition-title">Deletion / case 1.2</p>
<p>当 a 为<strong>黑</strong>根时，我们没有空余的位置来“吸纳” w 的黑高，但是左子树和右子树的不平衡是必须解决的，而我们绝不能寄希望于“在不知道有没有红色节点的 b 和 c 的子树中去寻找红色节点”这个想法。</p>
<p>所以我们可以仿照「Insertion / case 3」，将整个树标记为灰色——「<strong>由于删除结点，黑高 -1 的子树</strong>」，然后进一步根据其家长节点的情况递归到其他 case。其中，当我们递归到 a 是整个树的根时可以退出，因为这相当于整个树的黑高 -1，不影响红黑性质。</p>
<p><img alt="" src="../img/15.png"/></p>
</div>
</div>
<div class="admonition section">
<p class="admonition-title">Deletion / case 2</p>
<p>画不动图了，先语言描述一下。</p>
<ol>
<li>将 w 染为 a 的颜色，再将 a 和 c 染成黑色；</li>
<li>将 a 左旋，使 w 成为这个子树新的根，a 成为 w 的左儿子，b 成为 a 的右儿子；</li>
<li>调整结束；</li>
</ol>
</div>
<div class="admonition section">
<p class="admonition-title">Deletion / case 3</p>
<p>画不动图了，先语言描述一下。</p>
<ol>
<li>交换 b 和 w 的颜色；</li>
<li>将 w 右旋，使 b 成为 a 的右儿子，w 成为 b 的右儿子，b 的右儿子成为 w 的左儿子；</li>
<li>此时情况转化为 case 2；</li>
</ol>
</div>
<div class="admonition section">
<p class="admonition-title">Deletion / case 4</p>
<p>画不动图了，先语言描述一下。</p>
<ol>
<li>交换 a 和 w 的颜色；</li>
<li>将 a 左旋，使 w 成为这个子树新的根，a 成为 w 的左儿子，b 成为 a 的右儿子；</li>
<li>此时根据子树 a 的情况，转化为 case 1.1 / case 2 / case 3；</li>
</ol>
</div>
<div class="admonition key-point">
<div class="tabbed-set tabbed-alternate" data-tabs="4:2"><input checked="checked" id="__tabbed_4_1" name="__tabbed_4" type="radio"><input id="__tabbed_4_2" name="__tabbed_4" type="radio"><div class="tabbed-labels"><label for="__tabbed_4_1">区分 case 1.1 和 case 1.2</label><label for="__tabbed_4_2">不区分 case 1.1 和 case 1.2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="mermaid">graph LR;
A1["case 1.1"]
A2["case 1.2"]
B["case 2"]
C["case 3"]
D["case 4"]
E["finish"]

A1 ---&gt;|"C"| E
A2 ===&gt;|"C"| A1
A2 ===&gt;|"C"| A2
A2 ===&gt;|"C"| B
A2 ===&gt;|"C"| C
A2 ===&gt;|"C"| D
C ---&gt;|"C&amp;R"| B ---&gt;|"C&amp;R"| E
D ===&gt;|"C&amp;R"| A1
D ===&gt;|"C&amp;R"| B
D ===&gt;|"C&amp;R"| C
</div>
</div>
<div class="tabbed-block">
<div class="mermaid">graph LR;
A["case 1"]
B["case 2"]
C["case 3"]
D["case 4"]
E["finish"]

A ---&gt;|"C\nfrom case 1.1"| E
A ===&gt;|"C\nfrom case 1.2"| A
A ===&gt;|"C\nfrom case 1.2"| B
A ===&gt;|"C\nfrom case 1.2"| C
A ===&gt;|"C\nfrom case 1.2"| D
C ---&gt;|"C&amp;R"| B ---&gt;|"C&amp;R"| E
D ===&gt;|"C&amp;R\nto case 1.1 "| A
D ===&gt;|"C&amp;R"| B
D ===&gt;|"C&amp;R"| C
</div>
</div>
</div>
</input></input></div>
<p>注意，状态机中的<strong>粗线</strong>表示转换过程中，我们关注的“子树”向上或向下转移了一级（由 case 4 出发时下降，由 case 1.2 出发时上升）；而<strong>细线</strong>表示我们关注的子树仍然是这一层的那一棵。以及，<code>C</code> 表示染色操作，<code>R</code> 表示旋转操作。</p>
<p>其中，任何一个情况都可以作为一个初始情况。所以可以数出，到达 finish 的路径中，最多出现 3 次 Rotation（case 4 -&gt; case 3 -&gt; case 2 -&gt; finish）。</p>
</div>
<hr/>
<p>根据前面状态机的相关内容，我们不难得到这张表格，它统计的是 Rotation 在不同数据结构、不同操作中出现的数量：</p>
<table>
<thead>
<tr>
<th>Option</th>
<th>AVL Tree</th>
<th>RB Tree</th>
</tr>
</thead>
<tbody>
<tr>
<td>Insertion</td>
<td><span class="arithmatex">\(\leq 2\)</span></td>
<td><span class="arithmatex">\(\leq 2\)</span></td>
</tr>
<tr>
<td>Deletion</td>
<td><span class="arithmatex">\(O(\log N)\)</span></td>
<td><span class="arithmatex">\(\leq 3\)</span></td>
</tr>
</tbody>
</table>
<hr/>
<h2 id="b_tree">B+ Tree<a class="headerlink" href="#b_tree" title="Permanent link">#</a></h2>
<div class="admonition quote">
<p class="admonition-title">link</p>
<p>OI Wiki: <a href="https://oi-wiki.org/ds/bplus-tree/">https://oi-wiki.org/ds/bplus-tree/</a></p>
<p>Wiki: <a href="https://en.wikipedia.org/wiki/B%2B_tree">https://en.wikipedia.org/wiki/B%2B_tree</a></p>
<p>Presentation: <a href="https://www.cs.usfca.edu/~galles/visualization/BPlusTree.html">https://www.cs.usfca.edu/~galles/visualization/BPlusTree.html</a></p>
<p>Code: <a href="https://www.cnblogs.com/JayL-zxl/p/14304178.html">https://www.cnblogs.com/JayL-zxl/p/14304178.html</a></p>
</div>
<hr/>
<h3 id="_6">概念<a class="headerlink" href="#_6" title="Permanent link">#</a></h3>
<p>B+ 树是一种用树状形式维护有序数列比较信息的数据结构，其增改操作拥相对于二叉树结构更加稳定的对数时间复杂度，通常用于数据库和操作系统的文件系统中。</p>
<div class="admonition definition">
<p class="admonition-title">B+ Tree</p>
<p>如下图就是一颗 <span class="arithmatex">\(M=4\)</span> 的 B+ 树，可以对照着这个例子来理解性质。</p>
<p><img alt="" src="../img/16.svg"/></p>
<p>更一般地来说，B+ 树满足如下性质：</p>
<div class="admonition property">
<p class="admonition-title">property of B+ Tree</p>
<p>\@cy's PPT</p>
<ol>
<li>The root is either a leaf or has between <span class="arithmatex">\(2\)</span> and <span class="arithmatex">\(M\)</span> children.</li>
<li>All nonleaf nodes (except the root) have between <span class="arithmatex">\(\lceil M/2 \rceil\)</span> and M children.</li>
<li>All leaves are at the same depth.</li>
</ol>
<blockquote>
<p>Assume each nonroot leaf also has between <span class="arithmatex">\(\lceil M/2 \rceil\)</span> and <span class="arithmatex">\(M\)</span> children.</p>
</blockquote>
</div>
<p>所有真实的数据都被存储在叶子结点中，形成一个有序的数列。而非叶子结点中第 <code>i</code> 个键值等于其第 <code>i+1</code> 棵子树的最小值（在上图中表现为颜色相同的一对上下结点），因此非叶结点最多存 <span class="arithmatex">\(M-1\)</span> 个值。</p>
<details class="tip">
<summary>发现</summary>
<p>于是我们发现这样一个性质：在存储数值不重复的情况下，非叶结点存储的键值都不相同。</p>
<p>证明很简单，对于任意一个非叶子结点，它存储的值必定不会被它的子节点存储（如果它的子节点不是叶子），因为它存的是它的子节点的第一个子树的最小值，而它的子节点存的是第二个子树开始的最小值。</p>
</details>
<p>我们称这样的树为一个 <span class="arithmatex">\(M\)</span> 阶(order) B+ 树。对于常见的 <span class="arithmatex">\(M\)</span>，比如一棵 <span class="arithmatex">\(4\)</span> 阶 B+ 树，我们也称之为一棵 2-3-4 树，一般 <span class="arithmatex">\(M\)</span> 的选择为 3 或 4。</p>
<p>特别说明，对于 B+ 树，将它的叶子结点拼接起来，实际上就是一个有序数列。</p>
</div>
<p>抽象地来说就是，我们把一个数列相对均匀的分为 <span class="arithmatex">\(m\)</span> 块，然后把分界的数拿出来。当我们去查找或插入时，只需要和这些边界数进行比较，就知道它应该放在哪一块里。再不断细化粒度，用类似于“<span class="arithmatex">\(m\)</span> 分”的思想来找到目标位置。</p>
<p>在我看来这个定义非常清晰，就是将整个序列按照不同粒度划分，然后由大到小进行逼近。</p>
<div class="admonition property">
<p class="admonition-title">depth of B+ Tree</p>
<p>由于它在空间最浪费的情况下是一棵 <span class="arithmatex">\(\lceil M/2 \rceil\)</span> 叉树，所以 B+ 树的深度是 <span class="arithmatex">\(O(\lceil \log_{\lceil M/2 \rceil} N \rceil)\)</span>。</p>
</div>
<hr/>
<h3 id="_7">操作<a class="headerlink" href="#_7" title="Permanent link">#</a></h3>
<p>由于 B+ 树的性质十分自然，所以它的操作从思想层面上来说也非常简单。其更多的难度在于实现上。</p>
<div class="admonition tip">
<p class="admonition-title">关于实现的建议</p>
<p>由于 B+ 树关于内部节点和叶子的定义十分割裂（虽然红黑树叶也很割裂，但是毕竟红黑树的叶子不需要什么操作，但是 B+ 树需要），所以在实现过程中会遇到一些麻烦。</p>
<p>我个人建议，如果你十分熟悉 oop，那么可以尝试用多态来解决这个问题。反正我实现 B+ 树的时候对 cpp 的 oop 我说不上十分熟练，所以我直接无脑使用 <code>struct</code> with tag 实现了。</p>
<p>而在开始写代码之前，我<strong>强烈建议</strong>大家按照我下面做图的格式，模拟一遍各个操作！并在模拟过程中，观察数据的流动以及节点的结构变化。</p>
</div>
<p>此外，在讨论这些操作时，先让我们忽略如何从空建立起一个 B+ 树。</p>
<hr/>
<h4 id="_8">查找<a class="headerlink" href="#_8" title="Permanent link">#</a></h4>
<p>和二叉树的查找十分相似，所以这里只模拟一下举个例子。</p>
<p><img alt="" src="../img/16.svg"/></p>
<p>例如，我们在上面这棵树中找 <code>43</code> 这个值，橙色部分表示我们的焦点。</p>
<div class="admonition section">
<p class="admonition-title">Find(43)</p>
<div class="tabbed-set tabbed-alternate" data-tabs="5:3"><input checked="checked" id="__tabbed_5_1" name="__tabbed_5" type="radio"><input id="__tabbed_5_2" name="__tabbed_5" type="radio"><input id="__tabbed_5_3" name="__tabbed_5" type="radio"><div class="tabbed-labels"><label for="__tabbed_5_1">Frame 1</label><label for="__tabbed_5_2">Frame 2</label><label for="__tabbed_5_3">Frame 3</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p><img alt="" src="../img/17_1.svg"/></p>
<p>我们发现有 <span class="arithmatex">\(21 \leq 43 &lt; 48\)</span>，所以顺着标识的橙色指针向下。</p>
</div>
<div class="tabbed-block">
<p><img alt="" src="../img/17_2.svg"/></p>
<p>我们发现有 <span class="arithmatex">\(41 \leq 43\)</span>，所以顺着标识的橙色指针向下。</p>
</div>
<div class="tabbed-block">
<p><img alt="" src="../img/17_3.svg"/></p>
<p>已经走到叶子结点，最后发现我们要找的 <code>43</code>。</p>
</div>
</div>
</input></input></input></div>
</div>
<hr/>
<h4 id="_9">插入<a class="headerlink" href="#_9" title="Permanent link">#</a></h4>
<p>插入的方法也相对朴素简单，就是找到该插入的地方以后插入即可。</p>
<p>只不过需要注意一件事，当这个插入，导致了 B+ 树的性质不再成立时，即导致其家长节点的子节点数量为 <span class="arithmatex">\(M+1\)</span> 时，我们需要将这个结点平均分裂成两个，此时显然有两个子树的节点数量都不小于 <span class="arithmatex">\(\lceil M+1 \rceil\)</span>。但这还不够，分裂导致家长节点的家长节点的子节点变多，所以我们还得向上递归。</p>
<p>依然是进行一个模拟，我们模拟插入 <code>46</code> 和 <code>44</code>。</p>
<div class="admonition section">
<p class="admonition-title">Insert(46), no split</p>
<div class="tabbed-set tabbed-alternate" data-tabs="6:3"><input checked="checked" id="__tabbed_6_1" name="__tabbed_6" type="radio"><input id="__tabbed_6_2" name="__tabbed_6" type="radio"><input id="__tabbed_6_3" name="__tabbed_6" type="radio"><div class="tabbed-labels"><label for="__tabbed_6_1">Frame 1</label><label for="__tabbed_6_2">Frame 2</label><label for="__tabbed_6_3">Frame 3</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p><img alt="" src="../img/18_1.svg"/></p>
<p>同查找，略。</p>
</div>
<div class="tabbed-block">
<p><img alt="" src="../img/18_2.svg"/></p>
<p>同查找，略。</p>
</div>
<div class="tabbed-block">
<p><img alt="" src="../img/18_3.svg"/></p>
<p>找到要塞的位置了，发现要塞的地方是 <code>45</code> 的后面，插入以后发现一共 4 个数，而 <span class="arithmatex">\(M=4\)</span>，不需要分裂。</p>
</div>
</div>
</input></input></input></div>
</div>
<div class="admonition section">
<p class="admonition-title">Insert(44), split</p>
<div class="tabbed-set tabbed-alternate" data-tabs="7:6"><input checked="checked" id="__tabbed_7_1" name="__tabbed_7" type="radio"><input id="__tabbed_7_2" name="__tabbed_7" type="radio"/><input id="__tabbed_7_3" name="__tabbed_7" type="radio"/><input id="__tabbed_7_4" name="__tabbed_7" type="radio"/><input id="__tabbed_7_5" name="__tabbed_7" type="radio"/><input id="__tabbed_7_6" name="__tabbed_7" type="radio"/><div class="tabbed-labels"><label for="__tabbed_7_1">Frame 1</label><label for="__tabbed_7_2">Frame 2</label><label for="__tabbed_7_3">Frame 3</label><label for="__tabbed_7_4">Frame 4</label><label for="__tabbed_7_5">Frame 5</label><label for="__tabbed_7_6">Frame 6</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p><img alt="" src="../img/19_1.svg"/></p>
<p>同查找，略。</p>
</div>
<div class="tabbed-block">
<p><img alt="" src="../img/19_2.svg"/></p>
<p>同查找，略。</p>
</div>
<div class="tabbed-block">
<p><img alt="" src="../img/19_3.svg"/></p>
<p>找到要塞的位置了，发现要塞的地方是 <code>45</code> 的前面，插入以后发现一共 5 个数，而 <span class="arithmatex">\(M=4\)</span>，需要分裂！</p>
</div>
<div class="tabbed-block">
<p><img alt="" src="../img/19_4.svg"/></p>
<p>向上递归，我们悲痛地发现，这个节点在分裂后有了 <code>5</code> 个子节点，不得不再次分裂。</p>
</div>
<div class="tabbed-block">
<p><img alt="" src="../img/19_5.svg"/></p>
<p>向上递归，我的老天爷呀，怎么还没到头！这下我们要分裂根部了！</p>
</div>
<div class="tabbed-block">
<p><img alt="" src="../img/19_6.svg"/></p>
<p>由于根部被裂开了，所以我们需要添加一个新的根，这也意味着树的层数增高了。</p>
<p>现在，我们终于完成了插入。</p>
</div>
</div>
</input></div>
</div>
<hr/>
<div class="md-source-file">
<small>
    
      Last update:
      <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-datetime">2024年3月9日 19:18:55</span>
<br/>
        Created:
        <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-datetime">2024年3月4日 10:28:36</span>
</small>
</div>
</article>
</div>
</div>
<button class="md-top md-icon" data-md-component="top" hidden="" type="button">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"></path></svg>
  Back to top
</button>
</main>
<footer class="md-footer">
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank">
      Material for MkDocs
    </a>
</div>
<div class="md-social">
<a class="md-social__link" href="https://github.com/Yaoyaolingbro/notebook/home" rel="noopener" target="_blank" title="github.com">
<svg viewbox="0 0 496 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg>
</a>
</div>
</div>
</div>
</footer>
</div>
<div class="md-dialog" data-md-component="dialog">
<div class="md-dialog__inner md-typeset"></div>
</div>
<script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.tabs", "navigation.prune", "navigation.tracking", "navigation.indexes", "navigation.tracking", "navigation.top", "header.autohide", "search.highlight", "search.share", "search.suggest", "content.code.copy", "content.code.annotate", "material.extensions.emoji.twemoji"], "search": "../../../assets/javascripts/workers/search.f886a092.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
<script src="../../../assets/javascripts/bundle.6c14ae12.min.js"></script>
<script src="../../../js/baidu-tongji.js"></script>
<script src="../../../js/katex.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.7/katex.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.7/contrib/auto-render.min.js"></script>
<script type="module">import mermaid from "https://unpkg.com/mermaid@10.4.0/dist/mermaid.esm.min.mjs";
mermaid.initialize({});</script></body>
</html>